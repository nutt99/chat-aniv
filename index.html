<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/style.css">
    <title>1 Pesan!</title>
    <style>
        body {
            background-image: url("assets/download.jpeg");
        }
    </style>
</head>
<body>
    <div class="mx-auto" id="container-pesan">

        <div class="message message-incoming" id="chat1">
            <p>Halo, bagaimana kabarmu hari ini?</p>
            <span class="timestamp">09:30</span>
        </div>
        
        <div class="message message-outgoing d-none" id="container_out1">
            <p id="outgoing1"></p>
            <span class="timestamp">09:31</span>
        </div>

        <div class="message message-incoming d-none" id="chat2-1">
            <p>Gapapa ini cuman hari buruk aja, jangan terlalu dipikiri ya :D</p>
            <span class="timestamp">09:32</span>
        </div>

        <div class="message message-incoming d-none" id="chat2-2">
            <p>Baguslah kalau ini hari yang baik buat kamu, saya ikut senang mendengarnya :3</p>
            <span class="timestamp">09:32</span>
        </div>

        <div class="message message-incoming d-none" id="container_out2">
            <p>Sebelumnya ada pesan loh buat kamu, mau baca gak isi nya apa?</p>
            <span class="timestamp">09:33</span>
        </div>

        <div class="message message-outgoing d-none" id="container_out3">
            <p id="outgoing2"></p>
            <span class="timestamp">09:34</span>
        </div>

        <div class="message message-incoming d-none" id="container_out4">
            <p>...</p>
            <span class="timestamp">09:35</span>
        </div>

    </div>

    <div class="card m-5 fixed-bottom d-none" id="choose_point">
        <div class="card-body text-center">
            <h5 class="card-title">Pilih respon kamu!</h5>
            <div class="message message-outgoing" onclick="setMessage1('Kabarku baik ^_^', 1)">
                <p>Kabarku baik ^_^</p>
            </div>
            <div class="message message-outgoing" onclick="setMessage1('Agak kurang nih hari ini T_T', 0)">
                <p>Agak kurang nih hari ini T_T</p>
            </div>
        </div>
    </div>

    <div class="card m-5 fixed-bottom d-none" id="choose_point2">
        <div class="card-body text-center">
            <h5 class="card-title">Pilih respon kamu!</h5>
            <div class="message message-outgoing" onclick="setMessage2('Mau banget!')">
                <p>Mau banget!</p>
            </div>
            <div class="message message-outgoing" onclick="setMessage2('Mauuuuuuuu.......')">
                <p>Mauuuuuuuu.......</p>
            </div>
        </div>
    </div>

<script src="bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/animate-check.js"></script>
<script>
    var feeling1 = "";
    const outg2 = document.getElementById("container_out1");
    var container_out2

    function setMessage1(msg, feel) {
        feeling1 = feel;

        document.getElementById("outgoing1").innerText = msg;
        document.getElementById("outgoing1").classList.remove("d-none");
        document.getElementById("container_out1").classList.remove("d-none");
        document.getElementById("choose_point").classList.add("d-none");

        outg2.addEventListener('animationend', () => {
            if(feeling1 == '0'){
                document.getElementById("chat2-1").classList.remove("d-none");
                container_out2 = document.getElementById("chat2-1")
                    container_out2.addEventListener('animationend', () => {
                        document.getElementById("container_out2").classList.remove("d-none")
                    })
            }
            if(feeling1 == '1'){
                document.getElementById("chat2-2").classList.remove("d-none");
                container_out2 = document.getElementById("chat2-2")
                    container_out2.addEventListener('animationend', () => {
                        document.getElementById("container_out2").classList.remove("d-none")        
                    })
            }
        });
    }

    function setMessage2(msg) {
        document.getElementById("choose_point2").classList.add("d-none");

        document.getElementById("outgoing2").innerText = msg;
        document.getElementById("container_out3").classList.remove("d-none")

        document.getElementById("container_out3").addEventListener('animationend', () => {
            document.getElementById("container_out4").classList.remove("d-none")
        })
    }
</script>
</body>
</html>