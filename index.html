<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sevillana&display=swap" rel="stylesheet">
    <title>1 Pesan!</title>
    <style>
        body {
            background-image: url("assets/download.jpeg");
        }
        .sevillana-regular {
        font-family: "Sevillana", cursive;
        font-weight: 400;
        font-style: normal;
        font-size: 36px;
        }

    </style>
</head>
<body>

    <button class="d-none" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" id="tomboll">
        Launch static backdrop modal
      </button>

    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered bg-transparent">
        <div class="modal-content">
            <div class="modal-body mx-auto">
            <center>
                <div class="col">
                    <img class="" src="assets/c0f02f4d-removebg-preview.png" alt="">
                    <p class="sevillana-regular">Pesan Telah Diterima</p>
                    <p class="" style="font-size: 24px;">Ketuk untuk membuka</p>
                </div>
            </center>
            </div>
            <!-- <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Understood</button> -->
            </div>
        </div>
        </div>
    </div>

    <div class="mx-auto" id="container-pesan">

        <div class="message message-incoming" id="chat1">
            <p>Halo, bagaimana kabarmu hari ini?</p>
            <span class="timestamp">09:30</span>
        </div>
        
        <div class="message message-outgoing d-none" id="container_out1">
            <p id="outgoing1"></p>
            <span class="timestamp">09:31</span>
        </div>

        <div class="message message-incoming d-none" id="chat2-1">
            <p>Gapapa ini cuman hari buruk aja, jangan terlalu dipikiri ya :D</p>
            <span class="timestamp">09:32</span>
        </div>

        <div class="message message-incoming d-none" id="chat2-2">
            <p>Baguslah kalau ini hari yang baik buat kamu, saya ikut senang mendengarnya :3</p>
            <span class="timestamp">09:32</span>
        </div>

        <div class="message message-incoming d-none" id="container_out2">
            <p>Sebelumnya ada pesan loh buat kamu, mau baca gak isi nya apa?</p>
            <span class="timestamp">09:33</span>
        </div>

        <div class="message message-outgoing d-none" id="container_out3">
            <p id="outgoing2"></p>
            <span class="timestamp">09:34</span>
        </div>

        <div class="message message-incoming d-none" id="container_out4">
            <p>...</p>
            <span class="timestamp">09:35</span>
        </div>

    </div>

    <div class="card m-5 fixed-bottom d-none" id="choose_point">
        <div class="card-body text-center">
            <h5 class="card-title">Pilih respon kamu!</h5>
            <div class="message message-outgoing" onclick="setMessage1('Kabarku baik ^_^', 1)">
                <p>Kabarku baik ^_^</p>
            </div>
            <div class="message message-outgoing" onclick="setMessage1('Agak kurang nih hari ini T_T', 0)">
                <p>Agak kurang nih hari ini T_T</p>
            </div>
        </div>
    </div>

    <div class="card m-5 fixed-bottom d-none" id="choose_point2">
        <div class="card-body text-center">
            <h5 class="card-title">Pilih respon kamu!</h5>
            <div class="message message-outgoing" onclick="setMessage2('Mau banget!')">
                <p>Mau banget!</p>
            </div>
            <div class="message message-outgoing" onclick="setMessage2('Mauuuuuuuu.......')">
                <p>Mauuuuuuuu.......</p>
            </div>
        </div>
    </div>

<script src="bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/animate-check.js"></script>
<script>
    var feeling1 = "";
    const outg2 = document.getElementById("container_out1");
    var container_out2

    function setMessage1(msg, feel) {
        feeling1 = feel;

        document.getElementById("outgoing1").innerText = msg;
        document.getElementById("outgoing1").classList.remove("d-none");
        document.getElementById("container_out1").classList.remove("d-none");
        document.getElementById("choose_point").classList.add("d-none");

        outg2.addEventListener('animationend', () => {
            if(feeling1 == '0'){
                document.getElementById("chat2-1").classList.remove("d-none");
                container_out2 = document.getElementById("chat2-1")
                    container_out2.addEventListener('animationend', () => {
                        document.getElementById("container_out2").classList.remove("d-none")
                    })
            }
            if(feeling1 == '1'){
                document.getElementById("chat2-2").classList.remove("d-none");
                container_out2 = document.getElementById("chat2-2")
                    container_out2.addEventListener('animationend', () => {
                        document.getElementById("container_out2").classList.remove("d-none")        
                    })
            }
        });
    }

    function setMessage2(msg) {
        document.getElementById("choose_point2").classList.add("d-none");

        document.getElementById("outgoing2").innerText = msg;
        document.getElementById("container_out3").classList.remove("d-none")

        document.getElementById("container_out3").addEventListener('animationend', () => {
            document.getElementById("container_out4").classList.remove("d-none")
            document.getElementById("container_out4").addEventListener('animationend', () => {
                document.getElementById("tomboll").click();
            })
        })
    }
</script>
</body>
</html>